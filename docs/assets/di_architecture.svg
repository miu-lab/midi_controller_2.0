<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
    <!-- Titre -->
    <text x="400" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Système d'Injection de Dépendances</text>
    
    <!-- DependencyContainer au centre -->
    <rect x="300" y="220" width="200" height="80" rx="5" ry="5" fill="#d5a6bd" stroke="#666" stroke-width="3"/>
    <text x="400" y="255" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">DependencyContainer</text>
    <text x="400" y="280" font-family="Arial" font-size="12" text-anchor="middle">registerDependency(), resolve()</text>
    
    <!-- Interfaces -->
    <rect x="120" y="100" width="160" height="60" rx="5" ry="5" fill="#a4c2f4" stroke="#666" stroke-width="2"/>
    <text x="200" y="130" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">IInputSystem</text>
    <text x="200" y="150" font-family="Arial" font-size="12" text-anchor="middle">Interface</text>
    
    <rect x="320" y="100" width="160" height="60" rx="5" ry="5" fill="#a4c2f4" stroke="#666" stroke-width="2"/>
    <text x="400" y="130" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">IMidiSystem</text>
    <text x="400" y="150" font-family="Arial" font-size="12" text-anchor="middle">Interface</text>
    
    <rect x="520" y="100" width="160" height="60" rx="5" ry="5" fill="#a4c2f4" stroke="#666" stroke-width="2"/>
    <text x="600" y="130" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">IUISystem</text>
    <text x="600" y="150" font-family="Arial" font-size="12" text-anchor="middle">Interface</text>
    
    <!-- Implémentations -->
    <rect x="120" y="360" width="160" height="60" rx="5" ry="5" fill="#b6d7a8" stroke="#666" stroke-width="2"/>
    <text x="200" y="390" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">InputSubsystem</text>
    <text x="200" y="410" font-family="Arial" font-size="12" text-anchor="middle">Implémentation</text>
    
    <rect x="320" y="360" width="160" height="60" rx="5" ry="5" fill="#b6d7a8" stroke="#666" stroke-width="2"/>
    <text x="400" y="390" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">MidiSubsystem</text>
    <text x="400" y="410" font-family="Arial" font-size="12" text-anchor="middle">Implémentation</text>
    
    <rect x="520" y="360" width="160" height="60" rx="5" ry="5" fill="#b6d7a8" stroke="#666" stroke-width="2"/>
    <text x="600" y="390" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">UISubsystem</text>
    <text x="600" y="410" font-family="Arial" font-size="12" text-anchor="middle">Implémentation</text>
    
    <!-- Application principale -->
    <rect x="300" y="480" width="200" height="60" rx="5" ry="5" fill="#ffe599" stroke="#666" stroke-width="2"/>
    <text x="400" y="510" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">MidiControllerApp</text>
    <text x="400" y="530" font-family="Arial" font-size="12" text-anchor="middle">Application principale</text>
    
    <!-- InitializationScript -->
    <rect x="80" y="220" width="180" height="80" rx="5" ry="5" fill="#f9cb9c" stroke="#666" stroke-width="2"/>
    <text x="170" y="255" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">InitializationScript</text>
    <text x="170" y="280" font-family="Arial" font-size="12" text-anchor="middle">Configuration du conteneur</text>
    
    <!-- Flèches de relation -->
    <!-- Entre interfaces et implémentations -->
    <line x1="200" y1="160" x2="200" y2="360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
    <line x1="400" y1="160" x2="400" y2="360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
    <line x1="600" y1="160" x2="600" y2="360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
    
    <!-- Entre InitializationScript et DependencyContainer -->
    <line x1="260" y1="260" x2="300" y2="260" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- Entre DependencyContainer et implémentations (enregistrement) -->
    <path d="M 420 300 C 420 340, 200 340, 200 360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 400 300 C 400 330, 400 330, 400 360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 380 300 C 380 340, 600 340, 600 360" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    
    <!-- Entre DependencyContainer et MidiControllerApp -->
    <line x1="400" y1="300" x2="400" y2="480" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- Définition des marqueurs de flèche -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
        </marker>
    </defs>
    
    <!-- Légende -->
    <rect x="600" y="220" width="150" height="120" rx="5" ry="5" fill="#ffffff" stroke="#666" stroke-width="1"/>
    <text x="675" y="240" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Légende</text>
    
    <rect x="620" y="255" width="20" height="10" fill="#a4c2f4" stroke="#666" stroke-width="1"/>
    <text x="650" y="265" font-family="Arial" font-size="12" text-anchor="start">Interfaces</text>
    
    <rect x="620" y="275" width="20" height="10" fill="#b6d7a8" stroke="#666" stroke-width="1"/>
    <text x="650" y="285" font-family="Arial" font-size="12" text-anchor="start">Implémentations</text>
    
    <rect x="620" y="295" width="20" height="10" fill="#d5a6bd" stroke="#666" stroke-width="1"/>
    <text x="650" y="305" font-family="Arial" font-size="12" text-anchor="start">Conteneur DI</text>
    
    <rect x="620" y="315" width="20" height="10" fill="#ffe599" stroke="#666" stroke-width="1"/>
    <text x="650" y="325" font-family="Arial" font-size="12" text-anchor="start">Application</text>
</svg>
